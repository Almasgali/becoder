# Becoder Final task | KRAX team

## UI (Vaadin)

Доступен по адресу: http://localhost/ui

## Swagger

swagger-ui:  http://localhost/api/swagger-ui

api-docs: http://localhost/api/api-docs

## Решение

### Задача

Необходимо было реализовать высоконагруженный сервис для взаимодействия с балансом пользователя

### Код

Сервис написан на Java21, Spring-Boot, Log4J2, Spring-Security, Vaadin,
Liquibase, Junit5, DBUnit

Накатывать, конечно, нужно таблиц немного, но лично мы всем сердцем верим в светлое будущее этого сервиса.

### Детали

В приложении используется реляционная база данных **postgresql**.
Изначально для реализации корректного сценария обработки запросов использовались
песимистичные блокировки, однако по ходу работы мы изменили подход, использовав
оптимистичные просто, написав запросы руками при помощи `UPDATE`.

Как известно `UPDATE` в `postgresql` линериазуемы,
поэтому вся работа по учету транзакций благородно была делегирована базе данных.

### Что есть еще

Также для удобства тестирования была развернута "админка"

Ознакомится с API методами можно в swagger'е.

## Тесты

Тесты написаны при помощи DBUnit

Есть тесты на все сервисы приложения, проверяющие основную логику приложения

Контроллеры, к сожалению, покрыть тестами не успели

## Проект запускается очень просто

Как и все докер проекты:
`docker-compose up`

Перед запуском не забудьте настроить `.env`:

```
DB_NAME=
DB_USERNAME=
DB_PASSWORD=
LOCAL_PORT=
DOCKER_PORT=
AUTH_TOKEN=
```

Регистрироваться, к сожалению, необходимо через API
